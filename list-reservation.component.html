<br>
<h1 style="color: red" class="emmmm">Ajouter reservation</h1>
<form #f="ngForm">
  <div class="container">
  <div class="form-group">

    <label>votre cin:</label>
    <input type="text" name="id" class="form-control"
           [(ngModel)]="resrv.id" required minlength="8" maxlength="8" #i="ngModel" pattern="[0-9]+$">
  </div>
  <div class="alert alert-danger" *ngIf="i.touched && i.invalid">
    <div *ngIf="i.errors?.required">votre cin est obligatoire</div>
    <div *ngIf="i.errors?.minlength">cin minlength is 8</div>
    <div *ngIf="i.errors?.pattern">verifier votre cin</div>
  </div>  <div class="form-group">
    <label>votre nom:</label>
    <input type="text" name="nom" class="form-control" [(ngModel)]="resrv.nom"
            #t="ngModel" pattern="[a-zA-Z]+$" required>
  </div>
  <div class="alert alert-danger" *ngIf="t.touched && t.invalid">
    <div *ngIf="t.errors?.required">votre nom est obligatoire</div>
    <div *ngIf="t.errors?.pattern">verifier votre nom</div>
  </div>
  <div class="form-group">
    <label>Votre Prenom</label>
    <input type="text" name="prenom" class="form-control" [(ngModel)]="resrv.prenom"
           pattern="[a-zA-Z]+$"  #p="ngModel" required >
  </div>
  <div class="alert alert-danger" *ngIf="p.touched && p.invalid">
    <div *ngIf="p.errors?.required">votre prenom est obligatoire</div>
    <div *ngIf="p.errors?.pattern">verifier votre prenom</div>
  </div>

  <div class="form-group">
    <label>Nombre de personne</label>
    <input type="number" name="price" class="form-control" [(ngModel)]="resrv.nmbrpersonne"
           #q="ngModel" required >
  </div>
  <div class="alert alert-danger" *ngIf="(q.touched || q.dirty) && q.invalid">
    nombre de personne est obligatoire
  </div>
  <div class="alert alert-danger" *ngIf="q.value<0 ">
verifier votre nombre  </div>
  <div class="form-group">
    <label>Date de reservation</label>
    <input type="date" name="date" class="form-control" [(ngModel)]="resrv.date"
           value="{{today}}"  #s="ngModel" required >
  </div>
  <div class="alert alert-danger" *ngIf="s.touched && s.invalid">
    date de reservation est obligatoire
  </div>
  <br/>
  <button class="btn btn-success" [disabled]="f.invalid" (click)="save(f)">
    {{val}}
  </button>
  </div>
</form>
<div class="container">
<table class="table">
  <tr><th>Cin</th><th>Nom</th><th>Prenom</th><th>Date</th><th>Nombre de personnes</th><th>Action</th></tr>
  <tr *ngFor="let e of listes">
    <td>{{e.id}}</td>
    <td>{{e.nom}}</td>
    <td>{{e.prenom}}</td>
    <td>{{e.date | date: 'dd/MM/yyyy' }}</td>
    <td>{{e.nmbrpersonne}}</td>
    <td><button class="btn btn-dark" (click)="deleteE(e.id)">delete</button></td>
    <td><button class="btn btn-danger" (click)="update(e)">Update</button></td>
  </tr>

</table>
</div>
